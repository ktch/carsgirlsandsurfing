---
layout: default
---

<div id="turntable">
	<div id="wheel">
		<p class="album_artist">{{ page.show }}</p>
		<p class="album_track">{{ page.number }} - {{ page.title }}</p>
	</div>
	<div id="needle"></div>
</div>

<ul id="controls">
	<a id="rewind" href="#"><li>Back</li></a>
	<a id="play" href="#"><li>Play</li></a>
	<a id="fastforward" href="#"><li>Skip</li></a>
</ul>

<audio src="/files/{{ page.file }}" controls preload="auto" autobuffer id="currentshow"></audio>


<p><em>Episode {{ page.number }} - {{ page.title }}</em></p>

<h3>Show Notes:</h3>

{{ content }}

<h3>Follow Up:</h3>

{% include followup.html %}


<script type="text/javascript" charset="utf-8">
	function timeFix() {
		var t = setTimeout('recordPlay()',1000);				
	}

	function recordPlay() {
		document.getElementById('currentshow').play();	
	}
	
	function rewindAudio() {
	    // Check for audio element support.
       if (window.HTMLAudioElement) {
           try {
               var oAudio = document.getElementById('currentshow');
               oAudio.currentTime -= 30.0;
           }
           catch (e) {
               // Fail silently but show in F12 developer tools console
                if(window.console && console.error("Error:" + e));
           }
       }
   }

	function forwardAudio() {

	  // Check for audio element support.
      if (window.HTMLAudioElement) {
          try {
              var oAudio = document.getElementById('currentshow');
              oAudio.currentTime += 30.0;
          }
          catch (e) {
              // Fail silently but show in F12 developer tools console
               if(window.console && console.error("Error:" + e));
          }
      }
  }

	function restartAudio() {
	  // Check for audio element support.
      if (window.HTMLAudioElement) {
          try {
              var oAudio = document.getElementById('myaudio');
              oAudio.currentTime = 0;
          }
          catch (e) {
              // Fail silently but show in F12 developer tools console
               if(window.console && console.error("Error:" + e));
         }
      }
	}

	$(function(){

		$('#rewind').click(function(){
			rewindAudio();
		});
		
		$('#fastforward').click(function(){
			forwardAudio();
		});		

	});

	$(function(){

		$('#play').click(function(){

			if ( $('#turntable').hasClass('on') ) {


				if ( $('#turntable').hasClass('paused') ) {
					$('#turntable').removeClass('paused').addClass('playing');
					timeFix();
					console.log('playing again');
					$(this).html('<li>Pause</li>');
				} else {
					$('#turntable').removeClass('playing').addClass('paused');						
					document.getElementById('currentshow').pause();
					$(this).html('<li>Play</li>');										
				}

			} else {
				document.getElementById('currentshow').play();	
				console.log('first play');
				$('#turntable').addClass('on');
				$(this).html('<li>Pause</li>');
			}

		});		

	});
</script>